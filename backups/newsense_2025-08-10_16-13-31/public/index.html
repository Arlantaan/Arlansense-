<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sensation by Sanu - Perfume Boutique</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="icon" type="image/svg+xml" sizes="any" href="images/sbstab.svg">
  <link rel="icon" type="image/png" sizes="192x192" href="images/sbstab-192.png">
  <link rel="icon" type="image/png" sizes="180x180" href="images/sbstab-180.png">
  <link rel="icon" type="image/png" sizes="128x128" href="images/sbstab-128.png">
  <link rel="icon" type="image/png" sizes="64x64" href="images/sbstab-64.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/sbstab-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/sbstab-16.png">
  <!-- Bootstrap Icons CDN for cart icon -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f9f9f9;
    }

    .hero {
      height: 120vh;
      position: relative;
      background-image: url('images/2151839595.webp');
      background-size: cover;
      background-position: center;
      animation: bgMove 60s ease-in-out infinite alternate;
      overflow: hidden;
    }

    @keyframes bgMove {
      0% { background-position: center; }
      100% { background-position: left; }
    }

    .hero::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 0;
    }

    .hero > div {
      z-index: 1;
      position: relative;
      text-align: center;
    }

    .brand-logo {
      width: 800px;
      max-width: 90%;
      height: auto;
      animation: logoDrift 6s ease-in-out infinite alternate;
    }

    @keyframes logoDrift {
      0% { transform: translateX(0); }
      100% { transform: translateX(10px); }
    }

    .card {
      border: none;
      border-radius: 16px;
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: column;
    }

    .card:hover {
      transform: scale(1.05);
    }

    .card-img-top {
      height: 300px;
      object-fit: contain;
      padding: 10px;
      background: #fff;
    }

    /* Product card alignment system */
    .card-body {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      padding: 1.25rem;
    }

    .card-title {
      min-height: 2.5rem;
      display: flex;
      align-items: center;
      margin-bottom: 1rem !important;
    }

    .card-text-tagline {
      min-height: 1.5rem;
      margin-bottom: 1rem !important;
    }

    .fragrance-pyramid {
      min-height: 3rem;
      margin-bottom: 1rem !important;
    }

    .card-description {
      min-height: 3.5rem;
      margin-bottom: 1rem !important;
    }

    .card-price {
      margin-bottom: 1rem !important;
      margin-top: auto;
    }

    .card-button {
      margin-top: auto;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    /* Enhanced Add to Cart Button Effects */
    .btn-add-to-cart {
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);
      border: none !important;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .btn-add-to-cart:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      background-color: #1a1a1a !important;
    }

    .btn-add-to-cart:active {
      transform: translateY(0);
      transition: all 0.1s ease;
    }

    /* Button States */
    .btn-add-to-cart.loading {
      background-color: #6c757d !important;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn-add-to-cart.success {
      background-color: #28a745 !important;
      transform: scale(1.05);
      animation: successPulse 0.6s ease;
    }

    @keyframes successPulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.08); }
      100% { transform: scale(1.05); }
    }

    /* Ripple Effect */
    .btn-add-to-cart::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
      z-index: 1;
    }

    .btn-add-to-cart.ripple::before {
      width: 300px;
      height: 300px;
      animation: rippleAnimation 0.6s ease-out;
    }

    @keyframes rippleAnimation {
      0% {
        width: 0;
        height: 0;
        opacity: 1;
      }
      100% {
        width: 300px;
        height: 300px;
        opacity: 0;
      }
    }

    /* Button Text and Icon Transitions */
    .btn-text {
      position: relative;
      z-index: 2;
      transition: all 0.3s ease;
    }

    .btn-add-to-cart.loading .btn-text {
      opacity: 0.7;
    }

    .btn-add-to-cart.success .btn-text {
      color: white !important;
    }

    /* Loading Spinner */
    .btn-spinner {
      display: none;
      width: 20px;
      height: 20px;
      border: 2px solid #ffffff;
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-right: 8px;
    }

    .btn-add-to-cart.loading .btn-spinner {
      display: inline-block;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Success Icon */
    .btn-success-icon {
      display: none;
      margin-right: 8px;
      animation: checkBounce 0.5s ease;
    }

    .btn-add-to-cart.success .btn-success-icon {
      display: inline-block;
    }

    @keyframes checkBounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-10px);
      }
      60% {
        transform: translateY(-5px);
      }
    }

    /* Cart Icon Float Animation */
    .cart-float-animation {
      position: fixed;
      z-index: 9999;
      pointer-events: none;
      animation: floatToCart 1.2s cubic-bezier(0.23, 1, 0.320, 1) forwards;
      opacity: 1;
    }

    @keyframes floatToCart {
      0% {
        opacity: 1;
        transform: scale(1);
      }
      50% {
        opacity: 0.8;
        transform: scale(1.2);
      }
      100% {
        opacity: 0;
        transform: scale(0.5) translateY(-100px);
      }
    }

    /* Responsive card alignment adjustments */
    @media (max-width: 767px) {
      .card-title {
        min-height: 2rem;
      }
      .card-text-tagline {
        min-height: 1.2rem;
      }
      .fragrance-pyramid {
        min-height: 2.5rem;
      }
      .card-description {
        min-height: 3rem;
      }
    }

    @media (min-width: 768px) and (max-width: 991px) {
      .card-title {
        min-height: 3rem;
      }
      .card-text-tagline {
        min-height: 1.5rem;
      }
      .fragrance-pyramid {
        min-height: 3.5rem;
      }
      .card-description {
        min-height: 4rem;
      }
    }

    @media (min-width: 992px) {
      .card-title {
        min-height: 2.5rem;
      }
      .card-text-tagline {
        min-height: 1.5rem;
      }
      .fragrance-pyramid {
        min-height: 3rem;
      }
      .card-description {
        min-height: 3.5rem;
      }
    }

    .btn {
      border-radius: 25px;
    }

    footer {
      font-size: 0.9rem;
    }

    .glass-effect {
      background: rgba(255, 255, 255, 0.07);
      backdrop-filter: blur(14px);
      border-radius: 25px;
      padding: 2rem 3rem;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    .contact-bg {
      position: relative;
      background: url('images/abstract-texture-yellow-liquid.webp') center/cover no-repeat;
    }

    .contact-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 0;
    }

    .contact-content {
      position: relative;
      z-index: 1;
    }

    /* SBS Animated Watermark */
    .sbs-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .sbs-bg img {
      width: 100%;
      height: auto;
      opacity: 0.1;
      pointer-events: none;
    }

    /* Floating Logo in Hero Section */
    .floating-logo-container {
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    /* Desktop-specific optimizations for hero and button */
    @media (min-width: 769px) {
      .hero-headline {
        max-width: 100%;
        padding: 0 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      .hero-headline h1 {
        margin-bottom: 2.5rem;
        position: relative;
        z-index: 4;
        text-align: center;
      }
      
      .hero-headline .btn-lg {
        font-size: 1.25rem;
        padding: 0.75rem 3rem;
        min-width: 280px;
        display: block;
        text-decoration: none;
        box-shadow: 0 4px 16px rgba(191, 167, 106, 0.4);
        transition: all 0.3s ease;
        margin: 0 auto;
        text-align: center;
      }
      
      .hero-headline .btn-lg:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 24px rgba(191, 167, 106, 0.6);
      }
      
      .hero-headline .btn-lg:active {
        transform: translateY(0);
      }
      
      /* Ensure proper z-indexing for desktop */
      .hero {
        position: relative;
        overflow: visible;
      }
    }

    /* Extra wide screen optimization */
    @media (min-width: 1200px) {
      .hero-headline {
        max-width: 1000px;
      }
      
      .hero-headline h1 {
        font-size: 4rem;
        margin-bottom: 3rem;
      }
      
      .hero-headline .btn-lg {
        font-size: 1.4rem;
        padding: 1rem 4rem;
        min-width: 320px;
      }
    }

    /* Responsive adjustments for mobile */
    @media (max-width: 768px) {
      .hero {
        height: 80vh;
      }

      .display-3 {
        font-size: 2.5rem;
      }

      .lead {
        font-size: 1.2rem;
      }

      .btn-warning {
        padding-left: 2rem;
        padding-right: 2rem;
      }

      .floating-logo {
        width: 60%;
        max-width: 300px;
      }
    }

    /* Navbar SBS Logo */
    .navbar-sbs-logo {
      width: 44px;
      height: auto;
      opacity: 0.9;
      min-width: 32px;
      margin-right: 0.4rem;
    }
    @media (max-width: 768px) {
      .navbar-sbs-logo {
        width: 32px;
        min-width: 22px;
        margin-right: 0.2rem;
      }
    }

    /* Typewriter effect from center outward */
    @keyframes typewriterCenterOut {
      0% {
        clip-path: inset(0 50% 0 50%);
      }
      100% {
        clip-path: inset(0 0% 0 0%);
      }
    }
    
    @keyframes blinkCursor {
      0%, 50% {
        opacity: 1;
      }
      51%, 100% {
        opacity: 0;
      }
    }
    
    .hero-headline h1 {
      color: #000000;
      text-shadow: 0 2px 8px rgba(230, 201, 138, 0.3);
      position: relative;
      display: inline-block;
      animation: typewriterCenterOut 3s ease-out forwards;
      animation-delay: 0.5s;
      clip-path: inset(0 50% 0 50%);
    }
    
    .hero-headline h1::after {
      content: '';
      position: absolute;
      right: -3px;
      top: 0;
      bottom: 0;
      width: 3px;
      background-color: #e6c98a;
      animation: blinkCursor 1s infinite;
      animation-delay: 3.5s;
    }
    
    /* Mobile optimization */
    @media (max-width: 768px) {
      .hero-headline h1 {
        font-size: 2.2rem !important;
        line-height: 1.3;
        text-align: center;
        padding: 0 0.5rem;
        white-space: normal !important;
        word-wrap: break-word;
        max-width: 100%;
      }
      
      .hero-headline {
        padding: 0 1rem;
      }
    }
    
    @media (max-width: 480px) {
      .hero-headline h1 {
        font-size: 1.8rem !important;
        padding: 0 0.3rem;
        line-height: 1.4;
      }
    }
    
    @media (max-width: 360px) {
      .hero-headline h1 {
        font-size: 1.6rem !important;
        padding: 0 0.2rem;
      }
    }

    /* Mobile floating cart icon animation */
    @media (max-width: 768px) {
      .navbar .cart-navbar-icon {
        display: none !important;
      }
      .floating-cart-mobile {
        display: block;
        position: fixed;
        top: 80%;
        left: 0;
        width: 100vw;
        pointer-events: auto;
        z-index: 2000;
      }
      .floating-cart-mobile-inner {
        position: absolute;
        left: 16px;
        animation: cartFloatMobile 10s linear infinite;
      }
      @keyframes cartFloatMobile {
        0%   { left: 16px; }
        40%  { left: 16px; }
        50%  { left: calc(100vw - 56px); }
        90%  { left: calc(100vw - 56px); }
        100% { left: 16px; }
      }
    }
    @media (min-width: 769px) {
      .floating-cart-mobile {
        display: none !important;
      }
    }
    @media (max-width: 991.98px) {
      .navbar .cart-navbar-icon {
        display: none !important;
      }
      .floating-cart-mobile-inner {
        position: relative;
        display: inline-block;
        animation: cartSlideMobile 14s linear infinite;
      }
      @keyframes cartSlideMobile {
        0%   { transform: translateX(0); opacity: 1; }
        20%  { transform: translateX(0); opacity: 1; }
        30%  { transform: translateX(120vw); opacity: 0; }
        32%  { transform: translateX(-120vw); opacity: 0; }
        35%  { transform: translateX(0); opacity: 1; }
        100% { transform: translateX(0); opacity: 1; }
      }
    }
    @media (min-width: 992px) {
      .floating-cart-mobile-inner {
        display: none !important;
      }
    }


  </style>
</head>
<body>
  <!-- SBS Animated Watermark Background -->
  <div class="sbs-bg">
    <img src="images/sbs.svg" alt="Sensation by Sanu Watermark" />
  </div>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark sticky-top" style="background-color: rgba(35, 32, 28, 0.95); backdrop-filter: blur(10px);">
    <div class="container">
      <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="index.html">
        <img src="images/sbs.svg" alt="SBS Logo" style="width: 32px; height: auto;">
        Sensation by Sanu
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="index.html#catalog">Shop</a></li>
          <li class="nav-item"><a class="nav-link" href="track.html">Track Order</a></li>
          <li class="nav-item"><a class="nav-link" href="account.html" id="nav-account-link">
            <i class="bi bi-person me-1"></i><span id="nav-user-name">Account</span>
          </a></li>
          <li class="nav-item"><a class="nav-link position-relative" href="cart.html">
            <i class="bi bi-cart3 me-1"></i>Cart
            <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="display:none; font-size:0.7rem;">0</span>
          </a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Hero Section -->
  <section class="hero text-white text-center d-flex align-items-center justify-content-center position-relative" style="min-height: 90vh;">
    <!-- Removed floating SBS logo from hero section -->
    <div class="position-absolute top-50 start-50 translate-middle w-100 hero-headline" style="z-index:3; max-width: 1200px;">
      <h1 class="display-3 fw-bold mb-4" style="color: #000000; text-shadow: 0 2px 12px #00000099;">Unveil the Art of Scent</h1>
      <a href="#catalog" class="btn btn-lg btn-warning px-5 py-2 fw-semibold" style="background: linear-gradient(90deg,#e6c98a,#bfa76a); color: #23201c; border: none; box-shadow: 0 2px 8px #bfa76a55; font-weight: 600; letter-spacing: 0.5px;">Explore the Collection</a>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="py-5">
    <div class="container text-center">
      <h2>About Sensation by Sanu</h2>
      <p class="lead">At Sensation by Sanu, we create fragrances that transcend borders, elegant, unforgettable scents for the modern world. Our curated collection is crafted using premium ingredients, designed to evoke confidence, sensuality, and timeless style. With boutique origins and a growing global presence, our mission is to deliver sophisticated scents to fragrance lovers everywhere. What sets us apart is our commitment to quality, sustainability, and customer satisfaction.</p>
      <p class="fst-italic text-gold" style="color:#e6c98a;">Crafted with passion. Worn with pride.</p>
    </div>
  </section>

<!-- Shop -->
<section id="catalog" class="py-5">
  <div class="container">
    <h2 class="text-center mb-5">Our Catalog</h2>
    <div class="row g-4">
      <!-- Product 1 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="images/grace.webp" class="card-img-top" alt="Soleil Perfume" style="height:300px;object-fit:contain;">
          <div class="card-body">
            <h5 class="card-title">Soleil</h5>
            <p class="card-text-tagline card-text small"><em>not just a scent, she's a moment.</em></p>
            <div class="fragrance-pyramid">
              <div><strong>Top Notes:</strong> Pear, Strawberry, Vanilla</div>
            </div>
            <p class="card-description text-muted small">A fruity-floral embrace with a golden glow of warmth and sophistication</p>
            <p class="card-price fw-bold">5000 GMD</p>
            <button class="card-button btn btn-dark btn-add-to-cart w-100" onclick="enhancedAddToCart(this, {id: 'soleil', name: 'Soleil', price: 5000, image: 'images/grace.webp'})">
              <div class="btn-spinner"></div>
              <i class="btn-success-icon bi bi-check-circle-fill"></i>
              <span class="btn-text">
                <i class="bi bi-cart-plus me-2"></i>Add to Cart
              </span>
            </button>
          </div>
        </div>
      </div>

      <!-- Product 2 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="images/blackbottle.webp" class="card-img-top" alt="Nuit Perfume" style="height:300px;object-fit:contain;">
          <div class="card-body">
            <h5 class="card-title">Nuit <span class="badge bg-secondary ms-2"></span></h5>
            <p class="card-text-tagline card-text small"><em>a presence felt in silence.</em></p>
            <div class="fragrance-pyramid">
              <div><strong>Top Notes:</strong> Bergamot, Juniperberry, Clary Sage, Mandarin</div>
            </div>
            <p class="card-description text-muted small">Deep, magnetic, and utterly sensual. A timeless evening scent</p>
            <p class="card-price fw-bold">5000 GMD</p>
            <button class="card-button btn btn-dark btn-add-to-cart w-100" onclick="enhancedAddToCart(this, {id: 'nuit', name: 'Nuit', price: 5000, image: 'images/blackbottle.webp'})">
              <div class="btn-spinner"></div>
              <i class="btn-success-icon bi bi-check-circle-fill"></i>
              <span class="btn-text">
                <i class="bi bi-cart-plus me-2"></i>Add to Cart
              </span>
            </button>
          </div>
        </div>
      </div>

      <!-- Product 3 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="images/blush.webp" class="card-img-top" alt="Blush Perfume" style="height:300px;object-fit:contain;">
          <div class="card-body">
            <h5 class="card-title">Blush</h5>
            <p class="card-text-tagline card-text small">&nbsp;</p>
            <div class="fragrance-pyramid">
              &nbsp;
            </div>
            <p class="card-description text-muted small">A soft floral with a bold undertone — confident, youthful, unforgettable</p>
            <p class="card-price fw-bold">500 GMD</p>
            <button class="card-button btn btn-dark btn-add-to-cart w-100" onclick="enhancedAddToCart(this, {id: 'blush', name: 'Blush', price: 500, image: 'images/blush.webp'})">
              <div class="btn-spinner"></div>
              <i class="btn-success-icon bi bi-check-circle-fill"></i>
              <span class="btn-text">
                <i class="bi bi-cart-plus me-2"></i>Add to Cart
              </span>
            </button>
          </div>
        </div>
      </div>

      <!-- Product 4 -->
      <div class="col-md-6 col-lg-3">
        <div class="card h-100">
          <img src="images/perfume_oil2.webp" class="card-img-top" alt="Sugar Kiss" style="height:300px;object-fit:contain;">
          <div class="card-body">
            <h5 class="card-title">Sensation Oil</h5>
            <p class="card-text-tagline card-text small"><em>depth in every drop.</em></p>
            <div class="fragrance-pyramid">
              &nbsp;
            </div>
            <p class="card-description text-muted small">An oil-based scent crafted for lasting allure — rich, mysterious, and seductive</p>
            <p class="card-price fw-bold">500 GMD</p>
            <button class="card-button btn btn-dark btn-add-to-cart w-100" onclick="enhancedAddToCart(this, {id: 'sensation-oil', name: 'Sensation Oil', price: 500, image: 'images/perfume_oil2.webp'})">
              <div class="btn-spinner"></div>
              <i class="btn-success-icon bi bi-check-circle-fill"></i>
              <span class="btn-text">
                <i class="bi bi-cart-plus me-2"></i>Add to Cart
              </span>
            </button>
          </div>
        </div>
      </div>
    </div> <!-- end row -->
  </div> <!-- end container -->
</section>

  <!-- Contact -->
  <section id="contact" class="contact-bg text-white py-5">
    <div class="contact-overlay"></div>
    <div class="container contact-content">
      <h2 class="text-center mb-4">Contact Us</h2>
      <div class="row justify-content-center">
        <div class="col-md-6">
          <form id="contactForm" onsubmit="submitContactForm(event)">
            <div class="mb-3">
              <label for="contactName" class="form-label">Your Name</label>
              <input type="text" id="contactName" name="name" class="form-control" placeholder="Enter full name" required />
            </div>
            <div class="mb-3">
              <label for="contactEmail" class="form-label">Your Email</label>
              <input type="email" id="contactEmail" name="email" class="form-control" placeholder="example@gmail.com" required />
            </div>
            <div class="mb-3">
              <label for="contactMessage" class="form-label">Message</label>
              <textarea id="contactMessage" name="message" class="form-control" rows="4" placeholder="How can we help?" required></textarea>
            </div>
            <button type="submit" class="btn btn-outline-light" id="contactSubmitBtn">
              <span class="btn-text">
                <i class="bi bi-send me-2"></i>Send Message
              </span>
              <span class="btn-spinner d-none">
                <i class="bi bi-arrow-clockwise spin"></i> Sending...
              </span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-4">
  <div class="container">
    <p class="mb-0">© 2025 Sensation by Sanu • All rights reserved • Powered by Octopus Tech</p>
  </div>
</footer>


  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"></script>
  <script src="https://js.stripe.com/v3/"></script>
  <script src="js/config.js"></script>
  <script src="js/cart.js"></script>
  <script src="js/payment.js"></script>
  <script src="js/analytics.js"></script>
  <!-- Shared utility and animation scripts -->
  <script src="js/shared-utils.js"></script>
  <script src="js/animations.js"></script>
  <script src="script.js"></script>
  
  <!-- Firebase for Contact Form -->
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
      <script>
      // Firebase configuration for contact form
      const firebaseConfig = {
        apiKey: "AIzaSyBIFg1ZFGZ2k34Bc8hhhLKSf9ArnesiNhg",
        authDomain: "newsense-27a7a.firebaseapp.com",
        projectId: "newsense-27a7a",
        storageBucket: "newsense-27a7a.firebasestorage.app",
        messagingSenderId: "348185741664",
        appId: "1:348185741664:web:a2ff7676deec0cecaa3605",
        measurementId: "G-SZ18TF0YHW"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      // Contact form submission function
      async function submitContactForm(event) {
        event.preventDefault();
        
        const submitBtn = document.getElementById('contactSubmitBtn');
        const btnText = submitBtn.querySelector('.btn-text');
        const btnSpinner = submitBtn.querySelector('.btn-spinner');
        
        // Show loading state
        btnText.classList.add('d-none');
        btnSpinner.classList.remove('d-none');
        submitBtn.disabled = true;
        
        try {
          const formData = new FormData(event.target);
          const contactData = {
            name: formData.get('name'),
            email: formData.get('email'),
            message: formData.get('message'),
            status: 'new',
            timestamp: firebase.firestore.FieldValue.serverTimestamp(),
            dateStr: new Date().toLocaleDateString(),
            timeStr: new Date().toLocaleTimeString()
          };
          
          // Save to Firestore
          await db.collection('contacts').add(contactData);
          
          // Show success message
          showContactNotification('Message sent successfully! We\'ll get back to you soon.', 'success');
          
          // Reset form
          event.target.reset();
          
        } catch (error) {
          console.error('Error submitting contact form:', error);
          showContactNotification('Failed to send message. Please try again.', 'error');
        } finally {
          // Reset button state
          btnText.classList.remove('d-none');
          btnSpinner.classList.add('d-none');
          submitBtn.disabled = false;
        }
      }

      // Show contact notification
      function showContactNotification(message, type) {
        const notification = document.createElement('div');
        notification.innerHTML = `
          <div style="
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? '#28a745' : '#dc3545'};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 10000;
            animation: slideInRight 0.4s ease;
            font-weight: 500;
            max-width: 400px;
          ">
            <i class="bi bi-${type === 'success' ? 'check-circle-fill' : 'exclamation-triangle-fill'} me-2"></i>
            ${message}
          </div>
        `;
        
        document.body.appendChild(notification);
        
        // Remove after 5 seconds
        setTimeout(() => {
          notification.style.animation = 'slideOutRight 0.4s ease forwards';
          setTimeout(() => {
            if (document.body.contains(notification)) {
              document.body.removeChild(notification);
            }
          }, 400);
        }, 5000);
      }

      // Initialize Vanta.js background using shared function
      if (window.AnimationUtils) {
        window.AnimationUtils.initializeVantaBackground('.hero', 'waves');
      } else {
        // Fallback to direct initialization
        VANTA.WAVES({
          el: ".hero",
          mouseControls: true,
          touchControls: true,
          minHeight: 200.00,
          minWidth: 200.00,
          scale: 1.0,
          scaleMobile: 1.0,
          color: 0x8B5C2A,
          shininess: 50.0,
          waveHeight: 20.0,
          waveSpeed: 0.7,
          zoom: 0.85
        });
      }
    
    // Initialize Cart Manager
    window.cartManager = new CartManager();
    console.log('Cart Manager initialized:', window.cartManager);
    
    // Cart debugging function
    window.debugCart = function() {
      console.log('=== CART DEBUG ===');
      console.log('1. CartManager exists:', typeof window.cartManager);
      console.log('2. localStorage cart:', localStorage.getItem('sensation_cart'));
      console.log('3. addToCart function:', typeof window.addToCart);
      
      if (window.cartManager) {
        console.log('4. CartManager cart:', cartManager.cart);
        console.log('5. Cart length:', cartManager.cart.length);
        console.log('6. Is empty:', cartManager.isEmpty());
      }
      
      // Test direct add
      if (window.addToCart) {
        console.log('7. Testing addToCart...');
        try {
          addToCart({id: 'test', name: 'Debug Test', price: 100, image: 'test.jpg'});
          console.log('8. Add successful');
        } catch (e) {
          console.error('8. Add failed:', e);
        }
      }
    };

    // Enhanced navigation with analytics
    document.querySelectorAll('.navbar-nav .nav-link').forEach(link => {
      link.addEventListener('click', function(e) {
        const href = link.getAttribute('href');
        
        // Track navigation
        if (window.analytics) {
          window.analytics.track('navigation_click', {
            link: href,
            page: window.location.pathname
          });
        }
        
        // Close mobile menu
        const navbarCollapse = document.querySelector('.navbar-collapse');
        if (navbarCollapse.classList.contains('show')) {
          const bsCollapse = bootstrap.Collapse.getOrCreateInstance(navbarCollapse);
          bsCollapse.hide();
        }
      });
    });

         // Enhanced Add to Cart Function with Visual Effects
         window.enhancedAddToCart = function(buttonElement, product) {
           // Prevent multiple clicks
           if (buttonElement.classList.contains('loading') || buttonElement.classList.contains('success')) {
             return;
           }

           // Add ripple effect
           buttonElement.classList.add('ripple');
           setTimeout(() => buttonElement.classList.remove('ripple'), 600);

           // Show loading state
           buttonElement.classList.add('loading');
           buttonElement.disabled = true;

           // Haptic feedback for mobile
           if (navigator.vibrate) {
             navigator.vibrate(50);
           }

           // Simulate processing time and add to cart
           setTimeout(() => {
             try {
               console.log('Adding product to cart:', product);
               console.log('Cart manager available:', !!window.cartManager);
               console.log('Add to cart function available:', !!window.addToCart);
               
               // Call the actual add to cart function
               const success = window.addToCart ? window.addToCart(product) : addToCart(product);
               console.log('Add to cart result:', success);
               
               if (success) {
                 // Show success state
                 buttonElement.classList.remove('loading');
                 buttonElement.classList.add('success');
                 
                 // Create floating cart icon animation
                 createFloatingCartIcon(buttonElement, product);
                 
                 // Show success notification
                 showAddToCartNotification(product.name);
                 
                 // Reset button after success animation
                 setTimeout(() => {
                   buttonElement.classList.remove('success');
                   buttonElement.disabled = false;
                 }, 2000);
               } else {
                 // Handle error
                 buttonElement.classList.remove('loading');
                 buttonElement.disabled = false;
                 showErrorNotification('Failed to add item to cart');
               }
             } catch (error) {
               console.error('Error adding to cart:', error);
               buttonElement.classList.remove('loading');
               buttonElement.disabled = false;
               showErrorNotification('Error adding item to cart');
             }
           }, 800); // Simulate loading time
         };

         // Create floating cart icon animation
         function createFloatingCartIcon(buttonElement, product) {
           const buttonRect = buttonElement.getBoundingClientRect();
           const cartIcon = document.querySelector('.navbar .bi-cart3') || document.querySelector('[href="cart.html"]');
           
           if (cartIcon) {
             const cartRect = cartIcon.getBoundingClientRect();
             
             // Create floating icon
             const floatingIcon = document.createElement('div');
             floatingIcon.innerHTML = '<i class="bi bi-cart-plus" style="font-size: 2rem; color: #28a745;"></i>';
             floatingIcon.className = 'cart-float-animation';
             floatingIcon.style.left = buttonRect.left + 'px';
             floatingIcon.style.top = buttonRect.top + 'px';
             
             document.body.appendChild(floatingIcon);
             
             // Animate towards cart
             setTimeout(() => {
               floatingIcon.style.left = cartRect.left + 'px';
               floatingIcon.style.top = cartRect.top + 'px';
             }, 100);
             
             // Remove after animation
             setTimeout(() => {
               document.body.removeChild(floatingIcon);
             }, 1200);
           }
         }

         // Show success notification
         function showAddToCartNotification(productName) {
           // Create notification element
           const notification = document.createElement('div');
           notification.innerHTML = `
             <div style="
               position: fixed;
               top: 20px;
               right: 20px;
               background: #28a745;
               color: white;
               padding: 1rem 1.5rem;
               border-radius: 8px;
               box-shadow: 0 4px 12px rgba(0,0,0,0.3);
               z-index: 10000;
               animation: slideInRight 0.4s ease;
               font-weight: 500;
             ">
               <i class="bi bi-check-circle-fill me-2"></i>
               ${productName} added to cart!
             </div>
           `;
           
           document.body.appendChild(notification);
           
           // Remove after 3 seconds
           setTimeout(() => {
             notification.style.animation = 'slideOutRight 0.4s ease forwards';
             setTimeout(() => {
               if (document.body.contains(notification)) {
                 document.body.removeChild(notification);
               }
             }, 400);
           }, 3000);
         }

         // Show error notification
         function showErrorNotification(message) {
           const notification = document.createElement('div');
           notification.innerHTML = `
             <div style="
               position: fixed;
               top: 20px;
               right: 20px;
               background: #dc3545;
               color: white;
               padding: 1rem 1.5rem;
               border-radius: 8px;
               box-shadow: 0 4px 12px rgba(0,0,0,0.3);
               z-index: 10000;
               animation: slideInRight 0.4s ease;
               font-weight: 500;
             ">
               <i class="bi bi-exclamation-triangle-fill me-2"></i>
               ${message}
             </div>
           `;
           
           document.body.appendChild(notification);
           
           setTimeout(() => {
             notification.style.animation = 'slideOutRight 0.4s ease forwards';
             setTimeout(() => {
               if (document.body.contains(notification)) {
                 document.body.removeChild(notification);
               }
             }, 400);
           }, 3000);
         }

         // Add notification animations to styles
         const notificationStyles = document.createElement('style');
         notificationStyles.textContent = `
           @keyframes slideInRight {
             from { transform: translateX(100%); opacity: 0; }
             to { transform: translateX(0); opacity: 1; }
           }
           @keyframes slideOutRight {
             from { transform: translateX(0); opacity: 1; }
             to { transform: translateX(100%); opacity: 0; }
           }
         `;
         document.head.appendChild(notificationStyles);

         // Use CartManager for add to cart (provided globally by cart.js)
         // window.addToCart(product) is now available globally

    // Enhanced mobile haptics
    document.body.addEventListener('touchstart', function(e) {
      // Only vibrate on interactive elements
      if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
        if (navigator.vibrate) {
          navigator.vibrate(30);
        }
      }
    }, { passive: true });

    // Page load optimizations
    window.addEventListener('DOMContentLoaded', function() {
      // Smooth scroll to top
      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });
      
      // Clean URL hash
      if (window.location.hash) {
        history.replaceState(null, '', window.location.pathname + window.location.search);
      }

      // Initialize analytics
      if (window.analytics) {
        window.analytics.track('page_view', {
          page: window.location.pathname,
          title: document.title
        });
      }

      // Preload critical images
      const criticalImages = [
        'images/grace.webp',
        'images/blackbottle.webp',
        'images/blush.webp',
        'images/perfume_oil2.webp'
      ];

      criticalImages.forEach(src => {
        const img = new Image();
        img.src = src;
      });
    });

    // Performance monitoring
    window.addEventListener('load', function() {
      if ('performance' in window) {
        const perfData = performance.getEntriesByType('navigation')[0];
        if (perfData && window.analytics) {
          window.analytics.track('page_performance', {
            loadTime: perfData.loadEventEnd - perfData.loadEventStart,
            domContentLoaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,
            page: window.location.pathname
          });
        }
      }
    });
  </script>
</body>
</html>

